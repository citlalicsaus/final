{"version":3,"sources":["../../src/controllers/Beer.js"],"names":["onGetList","req","res","onBeersFound","beers","json","message","data","Beer","find","then","catch","onGetEntity","id","params","onBeerFound","beer","findOne","_id","onCreateEntity","body","onBeerCreated","beerCreated","save","onUpdateEntity","name","nameDisplay","abv","isOrganic","isRetired","status","statusDisplay","onFindEntity","onBeerSaved","beerUpdated","onDeleteEntity","onBeerDeleted","deleteOne","app","get","post","put","delete"],"mappings":"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","sourcesContent":["import Beer from '../models/beer';\nimport onPromiseError from './utils';\n\nconst onGetList = (req, res) => {\n  const onBeersFound = (beers) => {\n    res.json({\n      message: 'se ha realizado con exito',\n      data: beers,\n    });\n  };\n\n  Beer.find({})\n    .then(onBeersFound)\n    .catch(onPromiseError(res));\n};\n\nconst onGetEntity = (req, res) => {\n  const { id } = req.params;\n  const onBeerFound = (beer) => {\n    res.json({\n      message: 'se ha realizado con exito',\n      data: beer,\n    });\n  };\n\n  Beer.findOne({ _id: id })\n    .then(onBeerFound)\n    .catch(onPromiseError(res));\n};\n\nconst onCreateEntity = (req, res) => {\n  const beer = Beer(req.body);\n  const onBeerCreated = (beerCreated) => {\n    res.json({\n      message: 'Exito',\n      data: beerCreated,\n    });\n  };\n  beer\n    .save()\n    .then(onBeerCreated)\n    .catch(onPromiseError(res));\n};\n\nconst onUpdateEntity = (req, res) => {\n  const { id } = req.params;\n  const {\n    name, nameDisplay, abv, isOrganic, isRetired, status, statusDisplay,\n  } = req.body;\n  const onFindEntity = (beer) => {\n    beer.name = name;\n    beer.nameDisplay = nameDisplay;\n    beer.abv = abv;\n    beer.isOrganic = isOrganic;\n    beer.isRetired = isRetired;\n    beer.status = status;\n    beer.statusDisplay = statusDisplay;\n    const onBeerSaved = (beerUpdated) => {\n      res.json({\n        message: 'exito se actualizo tu cheve',\n        data: beerUpdated,\n      });\n    };\n    beer\n      .save()\n      .then(onBeerSaved)\n      .catch(onPromiseError(res));\n  };\n  Beer.findOne({ _id: id })\n    .then(onFindEntity)\n    .catch(onPromiseError(res));\n};\n\nconst onDeleteEntity = (req, res) => {\n  const { id } = req.params;\n  const onBeerDeleted = () => {\n    res.json({\n      message: 'Ha sido borrado con exito',\n    });\n  };\n  Beer.deleteOne({ _id: id })\n    .then(onBeerDeleted)\n    .catch(onPromiseError(res));\n};\n\nexport default (app) => {\n  app.get('/beer', onGetList);\n  app.post('/beer', onCreateEntity);\n  app.get('/beer/:id', onGetEntity);\n  app.put('/beer/:id', onUpdateEntity);\n  app.delete('/beer/:id', onDeleteEntity);\n};\n"],"file":"Beer.js"}